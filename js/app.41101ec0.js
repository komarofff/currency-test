(function(){"use strict";var e={736:function(e,t,r){var n=r(963),a=r(252),i=r(577);const s={class:"px-4 mt-3"},c=(0,a._)("h1",{class:"text-3xl text-center font-bold"},"Currency rate",-1),l={class:"container mx-auto"},o={class:"mt-3"},u={class:"text-xl font-bold text-left"},d=(0,a.Uk)("Select date "),h=["max"],f={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 items-end lg:mt-0 mt-4"},p={class:"flex items-start mb-2 flex-col"},b={class:"flex items-center justify-start flex-wrap"},m=(0,a._)("h2",{class:"text-xl font-bold text-left mr-6 mb-0"},"Select currency:",-1),v={class:"text-xl font-bold text-left flex items-center justify-start"},w=(0,a.Uk)("Filter "),x={class:"flex flex-col items-start h-[40vh] lg:h-[60vh] overflow-hidden border border-1 border-gray-300 p-2 overflow-y-auto text-left"},g=["name","id","value","onChange"],y=(0,a._)("div",{class:"flex items-start mb-2 flex-col"},[(0,a._)("h2",{class:"text-xl font-bold text-left"},"Selected currency:")],-1),C={class:"flex flex-col items-start h-[40vh] lg:h-[60vh] overflow-hidden border border-1 border-gray-300 p-2 overflow-y-auto"},_=["onClick"],D=(0,a.uE)('<path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 7h16"></path><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"></path><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"></path><path d="M10 12l4 4m0 -4l-4 4"></path>',5),k=[D];function I(e,t,r,D,I,F){const L=(0,a.up)("GetDataFromBank");return(0,a.wg)(),(0,a.iD)("div",s,[c,(0,a._)("div",l,[(0,a._)("div",o,[(0,a._)("label",u,[d,(0,a.wy)((0,a._)("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=e=>I.date=e),max:I.maxDate,class:"w-[200px] text-base py-1 px-2 border border-1 border-blue-100"},null,8,h),[[n.nr,I.date]])])]),(0,a._)("div",f,[(0,a._)("section",null,[(0,a._)("div",p,[(0,a._)("div",b,[m,(0,a._)("label",v,[w,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>I.searchText=e),class:"w-[200px] text-base py-1 px-2 border border-1 border-blue-100 ml-2"},null,512),[[n.nr,I.searchText]])])])]),(0,a._)("div",x,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(I.dataFilter,(e=>((0,a.wg)(),(0,a.iD)("label",{key:e.Cur_ID},[(0,a._)("input",{type:"checkbox",name:e.Cur_Abbreviation,id:"ID"+e.Cur_ID,value:e.Cur_Name,onChange:t=>F.getCurrencyToList(e),checked:!1},null,40,g),(0,a.Uk)(" "+(0,i.zw)(e.Cur_Name)+" - "+(0,i.zw)(e.Cur_Abbreviation)+" - "+(0,i.zw)(e.Cur_Code),1)])))),128))])]),(0,a._)("section",null,[y,(0,a._)("div",C,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(I.currencies,(e=>((0,a.wg)(),(0,a.iD)("p",{key:e.curId,class:"flex items-start text-left py-1 border-1 border-b border-gray-100 w-full"},[((0,a.wg)(),(0,a.iD)("svg",{onClick:t=>F.delCurrencyToList(e),xmlns:"http://www.w3.org/2000/svg",class:"stroke-red-700 mb-1 cursor-pointer mr-3 min-w-[24px]",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},k,8,_)),(0,a._)("span",null,[(0,a.Uk)((0,i.zw)(e.curName)+" ",1),e.finishRate?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a.Uk)(" | лил░ "+(0,i.zw)(e.finishScale)+" "+(0,i.zw)(e.finishName)+" - "+(0,i.zw)(e.finishRate)+" BLR ",1)],64)):(0,a.kq)("",!0)])])))),128))])])])]),((0,a.wg)(),(0,a.j4)(L,{currencies:I.currencies,date:I.date,onGetData:F.PutFinishData,key:I.appKey},null,8,["currencies","date","onGetData"]))])}const F={class:"my-4"};function L(e,t,r,n,i,s){return(0,a.wg)(),(0,a.iD)("p",F,[(0,a._)("button",{onClick:t[0]||(t[0]=e=>s.getList()),class:"bg-blue-700 text-white py-2 px-4 rounded"}," Get data from bank")])}var S=r(669),A=r.n(S),O={name:"GetDataFromBank",props:["currencies","date"],emits:["getData"],data(){return{thisDate:this.date,api:"https://www.nbrb.by/api/exrates/rates",listOfCurriencies:this.currencies,finishData:[]}},methods:{getList(){this.finishData=[],this.listOfCurriencies.forEach((e=>{let t=this.api+"/"+e.curCode+"?parammode=1&ondate="+this.thisDate;A().get(t).then((e=>{console.log(e),200===e.status&&e.data&&(this.finishData.push(e.data),this.$emit("getData",e.data))})).catch((e=>{e.response&&404===e.response.status&&console.clear()}))}))}}},N=r(744);const j=(0,N.Z)(O,[["render",L]]);var T=j,B={name:"App",data(){return{appKey:0,date:(new Date).getFullYear()+"-"+("0"+((new Date).getMonth()+1)).slice(-2)+"-"+("0"+(new Date).getDate()).slice(-2),maxDate:(new Date).getFullYear()+"-"+("0"+((new Date).getMonth()+1)).slice(-2)+"-"+("0"+(new Date).getDate()).slice(-2),appNumber:0,searchText:null,selectedCurrency:null,currencyBankAddress:"https://www.nbrb.by/api/exrates/currencies",currencyList:null,dataFilter:[],currencies:[],dataFromServer:[]}},beforeMount(){null==this.currencyList&&A().get(this.currencyBankAddress).then((e=>{e.data;this.currencyList=e.data,this.dataFilter=e.data}))},watch:{searchText(e){let t=null;this.dataFilter=[],t=e.length>0?this.currencyList.filter((t=>t.Cur_Abbreviation.toLowerCase().includes(e.toLowerCase())||t.Cur_Name.toLowerCase().includes(e.toLowerCase())||t.Cur_Code.toLowerCase().includes(e.toLowerCase())?t:void 0)):this.currencyList,this.dataFilter=t},date(){this.appKey++,this.appNumber++}},computed:{},methods:{getCurrencyToList(e){if(this.currencies.find((t=>t.curId===e.Cur_ID))){let t=this.currencies.findIndex((t=>t.curId===e.Cur_ID));this.currencies.splice(t,1)}else this.currencies.push({curId:e.Cur_ID,curCode:e.Cur_Code,curName:e.Cur_Name,curAbbr:e.Cur_Abbreviation,curScale:e.Cur_Scale,finishName:null,finishScale:null,finishRate:null})},delCurrencyToList(e){if(this.currencies.find((t=>t.curId===e.curId))){let t=this.currencies.findIndex((t=>t.curId===e.curId));this.currencies.splice(t,1);let r=`ID${e.curId}`;document.getElementById(r)&&(document.getElementById(r).checked=!1)}if(this.dataFromServer.find((t=>t.Cur_Abbreviation===e.curAbbr))){let t=this.dataFromServer.findIndex((t=>t.Cur_Abbreviation===e.curAbbr));this.dataFromServer.splice(t,1)}},PutFinishData(e){this.dataFromServer.find((t=>t.Cur_ID===e.Cur_ID))||this.dataFromServer.push(e);let t=this.currencies.findIndex((t=>t.curAbbr===e.Cur_Abbreviation));null!==t&&-1!==t&&(this.currencies[t].finishRate=e.Cur_OfficialRate,this.currencies[t].finishName=e.Cur_Name,this.currencies[t].finishScale=e.Cur_Scale),this.appNumber++}},components:{GetDataFromBank:T}};const M=(0,N.Z)(B,[["render",I]]);var z=M;(0,n.ri)(z).mount("#app")}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.m=e,function(){var e=[];r.O=function(t,n,a,i){if(!n){var s=1/0;for(u=0;u<e.length;u++){n=e[u][0],a=e[u][1],i=e[u][2];for(var c=!0,l=0;l<n.length;l++)(!1&i||s>=i)&&Object.keys(r.O).every((function(e){return r.O[e](n[l])}))?n.splice(l--,1):(c=!1,i<s&&(s=i));if(c){e.splice(u--,1);var o=a();void 0!==o&&(t=o)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,a,i]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,i,s=n[0],c=n[1],l=n[2],o=0;if(s.some((function(t){return 0!==e[t]}))){for(a in c)r.o(c,a)&&(r.m[a]=c[a]);if(l)var u=l(r)}for(t&&t(n);o<s.length;o++)i=s[o],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(u)},n=self["webpackChunkcurrency_test"]=self["webpackChunkcurrency_test"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(736)}));n=r.O(n)})();
//# sourceMappingURL=app.41101ec0.js.map