(function(){"use strict";var e={3503:function(e,r,t){var n=t(9242),i=t(3396),a=t(7139);const s={class:"px-4"},c=(0,i._)("h1",{class:"text-3xl text-center font-bold"},"Currency rate",-1),o={class:"container mx-auto"},u={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 items-end"},l={class:"flex items-start mb-4 flex-col"},d={class:"text-xl font-bold text-left"},h=(0,i.Uk)("Filter: "),f=(0,i._)("h2",{class:"text-xl font-bold text-left"},"Select currency:",-1),p={class:"flex flex-col items-start h-[40vh] lg:h-[70vh] overflow-hidden border border-1 border-gray-300 p-2 overflow-y-auto text-left"},b=["name","id","value","onChange"],m=(0,i._)("div",{class:"flex items-start mb-4 flex-col"},[(0,i._)("h2",{class:"text-xl font-bold text-left"},"Selected currency:")],-1),v={class:"flex flex-col items-start h-[40vh] lg:h-[70vh] overflow-hidden border border-1 border-gray-300 p-2 overflow-y-auto"},w=["onClick"],C=(0,i.uE)('<path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 7h16"></path><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"></path><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"></path><path d="M10 12l4 4m0 -4l-4 4"></path>',5),x=[C];function g(e,r,t,C,g,y){const _=(0,i.up)("GetDataFromBank");return(0,i.wg)(),(0,i.iD)("div",s,[c,(0,i._)("div",o,[(0,i._)("div",u,[(0,i._)("section",null,[(0,i._)("div",l,[(0,i._)("label",d,[h,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=e=>g.searchText=e),class:"w-[200px] text-base py-1 px-2 border border-1 border-blue-100"},null,512),[[n.nr,g.searchText]])]),f]),(0,i._)("div",p,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(g.dataFilter,(e=>((0,i.wg)(),(0,i.iD)("label",{key:e.Cur_ID},[(0,i._)("input",{type:"checkbox",name:e.Cur_Abbreviation,id:"ID"+e.Cur_ID,value:e.Cur_Name,onChange:r=>y.getCurrencyToList(e),checked:!1},null,40,b),(0,i.Uk)(" "+(0,a.zw)(e.Cur_Name)+" - "+(0,a.zw)(e.Cur_Abbreviation),1)])))),128))])]),(0,i._)("section",null,[m,(0,i._)("div",v,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(g.currencies,(e=>((0,i.wg)(),(0,i.iD)("p",{key:e.curId,class:"flex items-start text-left py-1 border-1 border-b border-gray-100 w-full"},[((0,i.wg)(),(0,i.iD)("svg",{onClick:r=>y.delCurrencyToList(e),xmlns:"http://www.w3.org/2000/svg",class:"stroke-red-700 mb-1 cursor-pointer mr-3 min-w-[24px]",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},x,8,w)),(0,i._)("span",null,[(0,i.Uk)((0,a.zw)(e.curName)+" ",1),e.finishRate?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Uk)(" | лил░ "+(0,a.zw)(e.finishScale)+" "+(0,a.zw)(e.finishName)+" - "+(0,a.zw)(e.finishRate)+" BLR ",1)],64)):(0,i.kq)("",!0)])])))),128))])])])]),(0,i.Wm)(_,{currencies:g.currencies,onGetData:y.PutFinishData},null,8,["currencies","onGetData"])])}const y={class:"my-4"};function _(e,r,t,n,a,s){return(0,i.wg)(),(0,i.iD)("p",y,[(0,i._)("button",{onClick:r[0]||(r[0]=e=>s.getList()),class:"bg-blue-700 text-white py-2 px-4 rounded"}," Get data from bank")])}var k=t(6265),D=t.n(k),I={name:"GetDataFromBank",props:["currencies"],emits:["getData"],data(){return{api:"https://www.nbrb.by/api/exrates/rates",listOfCurriencies:this.currencies,finishData:[]}},methods:{getList(){this.finishData=[],this.listOfCurriencies.forEach((e=>{let r=this.api+"/"+e.curCode+"?parammode=1";D().get(r).then((e=>{e.data&&(this.finishData.push(e.data),this.$emit("getData",e.data))})).catch((e=>{e.response&&404===e.response.status&&console.clear()}))}))}}},F=t(89);const L=(0,F.Z)(I,[["render",_]]);var A=L,O={name:"App",data(){return{appNumber:0,searchText:null,selectedCurrency:null,currencyBankAddress:"https://www.nbrb.by/api/exrates/currencies",currencyList:null,dataFilter:[],currencies:[],dataFromServer:[]}},beforeMount(){null==this.currencyList&&D().get(this.currencyBankAddress).then((e=>{e.data;this.currencyList=e.data,this.dataFilter=e.data}))},watch:{searchText(e){let r=null;this.dataFilter=[],r=e.length>0?this.currencyList.filter((r=>r.Cur_Abbreviation.toLowerCase().includes(e.toLowerCase())||r.Cur_Name.toLowerCase().includes(e.toLowerCase())||r.Cur_Code.toLowerCase().includes(e.toLowerCase())?r:void 0)):this.currencyList,this.dataFilter=r}},computed:{},methods:{getCurrencyToList(e){if(this.currencies.find((r=>r.curId===e.Cur_ID))){let r=this.currencies.findIndex((r=>r.curId===e.Cur_ID));this.currencies.splice(r,1)}else this.currencies.push({curId:e.Cur_ID,curCode:e.Cur_Code,curName:e.Cur_Name,curAbbr:e.Cur_Abbreviation,curScale:e.Cur_Scale,finishName:null,finishScale:null,finishRate:null})},delCurrencyToList(e){if(this.currencies.find((r=>r.curId===e.curId))){let r=this.currencies.findIndex((r=>r.curId===e.curId));this.currencies.splice(r,1);let t=`ID${e.curId}`;document.getElementById(t)&&(document.getElementById(t).checked=!1)}if(this.dataFromServer.find((r=>r.Cur_Abbreviation===e.curAbbr))){let r=this.dataFromServer.findIndex((r=>r.Cur_Abbreviation===e.curAbbr));this.dataFromServer.splice(r,1)}},PutFinishData(e){this.dataFromServer.find((r=>r.Cur_ID===e.Cur_ID))||this.dataFromServer.push(e);let r=this.currencies.findIndex((r=>r.curAbbr===e.Cur_Abbreviation));null!==r&&-1!==r&&(this.currencies[r].finishRate=e.Cur_OfficialRate,this.currencies[r].finishName=e.Cur_Name,this.currencies[r].finishScale=e.Cur_Scale),this.appNumber++}},components:{GetDataFromBank:A}};const S=(0,F.Z)(O,[["render",g]]);var N=S;(0,n.ri)(N).mount("#app")}},r={};function t(n){var i=r[n];if(void 0!==i)return i.exports;var a=r[n]={exports:{}};return e[n](a,a.exports,t),a.exports}t.m=e,function(){var e=[];t.O=function(r,n,i,a){if(!n){var s=1/0;for(l=0;l<e.length;l++){n=e[l][0],i=e[l][1],a=e[l][2];for(var c=!0,o=0;o<n.length;o++)(!1&a||s>=a)&&Object.keys(t.O).every((function(e){return t.O[e](n[o])}))?n.splice(o--,1):(c=!1,a<s&&(s=a));if(c){e.splice(l--,1);var u=i();void 0!==u&&(r=u)}}return r}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[n,i,a]}}(),function(){t.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(r,{a:r}),r}}(),function(){t.d=function(e,r){for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)}}(),function(){var e={143:0};t.O.j=function(r){return 0===e[r]};var r=function(r,n){var i,a,s=n[0],c=n[1],o=n[2],u=0;if(s.some((function(r){return 0!==e[r]}))){for(i in c)t.o(c,i)&&(t.m[i]=c[i]);if(o)var l=o(t)}for(r&&r(n);u<s.length;u++)a=s[u],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(l)},n=self["webpackChunkcurrency_test"]=self["webpackChunkcurrency_test"]||[];n.forEach(r.bind(null,0)),n.push=r.bind(null,n.push.bind(n))}();var n=t.O(void 0,[998],(function(){return t(3503)}));n=t.O(n)})();
//# sourceMappingURL=app.007cae57.js.map